<?xml version="1.0" encoding="UTF-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
 auto-import="true" assembly="QSContacts" namespace="QSContacts">
	<class name="Phone" lazy="false" table="phones">
		<id name="Id" column="id">
			<generator class="native"></generator>
	 	</id>
	 	<property name="Number" column="number" />
	 	<property name="DigitsNumber" column="digits_number" />
	 	<property name="Additional" column="additional" />
	 	<many-to-one name="NumberType" class="PhoneType" column="type_id" />
 	</class>
 	<class name="PhoneType" lazy="false" table="phone_types">
		<id name="Id" column="id">
			<generator class="native"></generator>
	 	</id>
		<property name="Name" column="name" />
	</class>
	<class name="Email" lazy="false" table="emails">
		<id name="Id" column="id">
			<generator class="native"></generator>
	 	</id>
	 	<property name="Address" column="address" />
	 	<many-to-one name="EmailType" class="EmailType" column="type_id" />
 	</class>
 	<class name="EmailType" lazy="false" table="email_types">
		<id name="Id" column="id">
			<generator class="native"></generator>
	 	</id>
		<property name="Name" column="name" />
	</class>
	<class name="Contact" lazy="false" table="counterparty_contacts">
 		<id name="Id" column="id">
 			<generator class="native"></generator>
 		</id>
		<property name="Name" column="name" />
		<property name="Surname" column="surname" />
		<property name="Lastname" column="lastname" />
		<property name="Comment" column="comment" /> 
		<property name="Post" column="post" />
		<property name="Fired" column="fired" />
		<bag name="Phones" inverse="false" cascade="all-delete-orphan" lazy="true" >
    		<key column="counterparty_contact_id"/>
    		<one-to-many class="QSContacts.Phone" />
		</bag>
		<bag name="Emails" inverse="false" cascade="all-delete-orphan" lazy="true" >
    		<key column="counterparty_contact_id"/>
    		<one-to-many class="QSContacts.Email" />
		</bag>
	</class>
</hibernate-mapping>